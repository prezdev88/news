<div class="panel" style="margin-bottom: 20px;">
  <h3>Filtros</h3>
  <form class="filters" (ngSubmit)="applyFilters()" [formGroup]="filterForm">
    <label>
      <span>Desde</span>
      <input type="date" formControlName="from">
    </label>
    <label>
      <span>Hasta</span>
      <input type="date" formControlName="to">
    </label>
    <label>
      <span>Texto (headline)</span>
      <input type="text" placeholder="busca en headline" formControlName="q">
    </label>
    <label>
      <span>Hashtags (coma)</span>
      <input type="text" placeholder="kast,boric" formControlName="hashtags">
    </label>
    <div style="align-self: end;">
      <button type="submit">Aplicar filtros</button>
    </div>
  </form>
</div>

<section class="panel">
  <div style="display: flex; justify-content: space-between; align-items: center;">
    <h3 style="margin: 0;">Resultados</h3>
    <div *ngIf="loading" style="color: var(--muted);">Cargando...</div>
  </div>
  <div class="grid" style="margin-top: 12px;">
    <div *ngFor="let entry of entries" class="entry-card">
      <div class="entry-date">{{ entry.date }}</div>
      <div class="entry-headline">{{ entry.headline }}</div>
      <div style="margin: 8px 0;">
        <span class="tag" *ngFor="let tag of entry.hashtags">#{{ tag }}</span>
      </div>
      <div class="sources" *ngIf="entry.sources?.length">
        Fuentes:
        <span *ngFor="let s of entry.sources; let i = index">[{{ i + 1 }}] <a [href]="s.url" target="_blank">{{ hostFromUrl(s.url) }}</a> </span>
      </div>
    </div>
  </div>
</section>
